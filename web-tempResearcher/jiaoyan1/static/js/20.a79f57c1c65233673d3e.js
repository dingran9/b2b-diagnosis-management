webpackJsonp([20],{"4mb8":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,'@charset "UTF-8";.content-right-title-wrap[data-v-396fc6c6]{text-align:left;margin:20px;background:#fff;border-radius:3px}.content-right-title-wrap .title[data-v-396fc6c6]{height:65px;line-height:65px;font-size:24px;padding:0 40px;color:#4c6175;border-bottom:1px solid #ddd}.content-right-title-wrap .body[data-v-396fc6c6]{line-height:80px;vertical-align:middle;padding:0 40px 10px}.content-right-title-wrap .body .body-title[data-v-396fc6c6]{width:80px;display:inline-block;color:#5e5e5e;font-size:18px}.content-right-title-wrap .body .body-btn[data-v-396fc6c6]{width:140px;font-size:18px;color:#505050;height:38px;line-height:38px;text-align:center;border-radius:19px;display:inline-block;vertical-align:middle;cursor:pointer;-webkit-transition:all .3s;transition:all .3s;margin-right:10px}.content-right-title-wrap .body .body-btn[data-v-396fc6c6]:hover{background-color:#d3eaf2}.content-right-title-wrap .body .body-btn.act[data-v-396fc6c6]{background-color:#3cc0fe;color:#fff}.content-right-body-wrap[data-v-396fc6c6]{text-align:center;margin:20px}.content-right-body-wrap[data-v-396fc6c6]:after{content:"";display:table;clear:both}.choose-wrap .header[data-v-396fc6c6]{margin:10px 20px;margin-bottom:0;background:#fff}.choose-wrap .header .title[data-v-396fc6c6]{height:50px;text-align:left;padding:10px 40px;font-family:\ufeffMicrosoftYaHei-Bold;font-weight:700;font-size:18px;color:#4c6175;border-bottom:1px solid #e1e5ec}.choose-wrap .header .title .create[data-v-396fc6c6]{float:right;color:#fff;background-color:#50ced9;width:110px;height:35px;line-height:35px;text-align:center;border-radius:20px;margin-top:-3px;cursor:pointer}.choose-wrap .filterSearch[data-v-396fc6c6]{margin:0 20px;margin-bottom:0;background:#fff;padding-top:14px}.choose-wrap .filterSearch .search[data-v-396fc6c6]{float:right;display:inline-block;margin-right:30px;color:#fff;background-color:#50ced9;width:110px;height:35px;line-height:35px;text-align:center;border-radius:20px;cursor:pointer}.add-form-input[data-v-396fc6c6]{width:340px;margin:0 auto;margin-bottom:22px}.el-input__inner[data-v-396fc6c6]:focus,.el-input__inner[data-v-396fc6c6]:hover{border-color:#50ced9!important}.el-select-dropdown__item.selected.hover[data-v-396fc6c6],.el-select-dropdown__item.selected[data-v-396fc6c6]{background-color:#50ced9}.el-table[data-v-396fc6c6]:after{width:0}.el-table[data-v-396fc6c6]{border:0}.el-table__header-wrapper thead div[data-v-396fc6c6],.el-table th[data-v-396fc6c6],.el-table tr[data-v-396fc6c6]{background-color:#cfe8f5;color:#48576a}.el-button--primary[data-v-396fc6c6],.el-button--primary[data-v-396fc6c6]:focus,.el-button--primary[data-v-396fc6c6]:hover{color:#fff;background-color:#50ced9;border-color:#50ced9}',""])},"7O24":function(e,t,a){var i=a("4mb8");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("68ea2746",i,!0)},BDEJ:function(e,t,a){var i=a("rF2Y");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("2d7c0965",i,!0)},SKSU:function(e,t,a){"use strict";t.a={data:function(){return{yearOptions:[{id:2016,year:"2015~2016学年"},{id:2017,year:"2016~2017学年"},{id:2018,year:"2017~2018学年"},{id:2019,year:"2018~2019学年"},{id:2020,year:"2019~2012学年"},{id:2021,year:"2020~2021学年"}],userStage:this.$user().get().userStage.split(","),bookVerison:[],shagnxiace:[],unitList:[],form:{year:"",grond:"",version:"",xueqi:"",unit:""}}},mounted:function(){this.user=this.$user().get()},methods:{getXueQi:function(e){var t=(this.form,this.shagnxiace.find(function(t){return t.code==e}));return t.name.includes("上")?1:t.name.includes("下")?2:function(e){return e>=1&&e<8?2:1}(new Date(t.serverTime).getMonth())},searchList:function(e){var t=this;if(e.hasReport){var a=this.form;if(a.unit=e.code,!a.year)return void this.$message("请选择学年");if(!a.grond)return void this.$message("请选择年级");if(!a.version)return void this.$message("请选择教材版本");if(!a.xueqi)return void this.$message("请选择学期");a.xueqiType=this.getXueQi(a.xueqi);var i=this.unitList.slice(0,this.unitList.findIndex(function(e){return e.code==a.unit})+1).map(function(e,t){return{unitCode:e.code,unitName:e.name,sort:t}});a.unitModels=i,this.localData.set("unit",a),this.localData.set("reportType","1"),this.localData.set("tempUnit",e),setTimeout(function(){t.$router.push({path:"/showData/reportDetailsTotal/classjiaoxuejindu"})},100)}},searchBtnClick:function(){var e=this.form;return e.year?e.grond?e.version?e.xueqi?void this.getUnit(1):void this.$message("请选择学期"):void this.$message("请选择教材版本"):void this.$message("请选择年级"):void this.$message("请选择学年")},getVersion:function(){var e=this;this.changeWithState("grade");var t=this.form,a={gradeCode:t.grond,subjectCode:this.user.userSubject||2};this.$ajax.getBookTypeVersion(a).then(function(t){var a=t.httpCode,i=t.result;200==a?(e.bookVerison=i,i.length||e.$message("教材版本列表为空,请选择其他年级")):e.$message("获取教材版本,请刷新页面重试")})},huoqushangxiace:function(e){var t=this;if(e){this.changeWithState("version");var a=this.form,i={gradeCode:a.grond,subjectCode:this.user.userSubject||2,booktypeCode:a.version,productsIds:"581c1b44f70541fc88f8658041477c6c",code:"0"};this.$ajax.getbookTypeVersionAndUnit(i).then(function(e){var a=e.httpCode,i=e.result;200==a?(t.shagnxiace=i,i.length||t.$message("上下册列表为空,请选择其他教材版本")):"600002"!=a&&t.$message("获取上下册失败,请刷新页面重试")})}},changeWithState:function(e){var t=this.form;switch(e){case"grade":t.version="",this.shagnxiace=[];case"version":t.xueqi="",this.unitList=[];case"shangxiace":t.unit=""}},getUnit:function(e){var t=this;if(e){this.changeWithState("shangxiace");var a=this.form;if(a.year){var i={districtId:this.user.userGroupAreaDistrictId,examYear:a.year+""+this.getXueQi(a.xueqi),gradeCode:a.grond,subjectCode:this.user.userSubject||2,booktypeCode:a.version,productsIds:"581c1b44f70541fc88f8658041477c6c",code:a.xueqi};this.$ajax.getUnitListWithStatus(i).then(function(e){var i=e.httpCode,o=e.result;200==i?(o=o||[],22==a.grond&&o.map(function(e){"Unit 2"!=e.name&&"期中测试"!=e.name||(e.hasReport=!0)}),t.$set(t,"unitList",o),o.length||t.$message("单元列表为空,请选择其他学期")):t.$message("获取单元信息失败,请刷新页面重试")})}}}}}},gR1b:function(e,t,a){"use strict";function i(e){a("7O24"),a("BDEJ")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("SKSU"),r=a("zYN3"),n=a("VU/8"),c=i,s=n(o.a,r.a,c,"data-v-396fc6c6",null);t.default=s.exports},rF2Y:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".ge-card-1[data-v-396fc6c6]{text-align:center;width:360px;height:210px;background:#fff;display:inline-block;margin-bottom:10px;margin-right:10px;-webkit-box-shadow:0 0 20px 0 rgba(39,113,170,.23);box-shadow:0 0 20px 0 rgba(39,113,170,.23)}.ge-card-1>.ge-header[data-v-396fc6c6]{padding:0 40px;line-height:60px;height:60px;border-bottom:1px solid #e1e5ec}.ge-card-1>.ge-body[data-v-396fc6c6]{color:#505050;line-height:32px;padding:30px 40px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-ms-text-overflow:ellipsis}.ge-card-1>.ge-btn[data-v-396fc6c6]{cursor:pointer;width:141px;height:40px;line-height:40px;display:block;margin:auto;color:#fff;font-size:18px;background-image:linear-gradient(-87deg,#7bcbe5,#50ced9),linear-gradient(#50ced9,#50ced9);background-blend-mode:normal,normal;-webkit-box-shadow:.4px 6px 10px 0 rgba(39,144,170,.4);box-shadow:.4px 6px 10px 0 rgba(39,144,170,.4);border-radius:20px 20px 20px 20px}.ge-card-1>.ge-btn.disable[data-v-396fc6c6]{background:#e1e5ec;-webkit-box-shadow:.4px 6px 10px 0 #e1e5ec;box-shadow:.4px 6px 10px 0 #e1e5ec}",""])},zYN3:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"syncCoach choose-wrap"},[e._m(0),e._v(" "),a("div",{staticClass:"filterSearch"},[a("el-form",{ref:"form",staticStyle:{"text-align":"left","margin-left":"40px"},attrs:{model:e.form,inline:!0}},[a("el-form-item",{attrs:{label:"学年"}},[a("el-select",{attrs:{placeholder:"请选择学年"},model:{value:e.form.year,callback:function(t){e.form.year=t},expression:"form.year"}},e._l(e.yearOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.year,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"年级"}},[a("el-select",{attrs:{placeholder:"请选择年级"},on:{change:function(t){e.getVersion()}},model:{value:e.form.grond,callback:function(t){e.form.grond=t},expression:"form.grond"}},[e.userStage.includes("1")?[a("el-option",{attrs:{label:"一年级",value:"11"}}),e._v(" "),a("el-option",{attrs:{label:"二年级",value:"12"}}),e._v(" "),a("el-option",{attrs:{label:"三年级",value:"13"}}),e._v(" "),a("el-option",{attrs:{label:"四年级",value:"14"}}),e._v(" "),a("el-option",{attrs:{label:"五年级",value:"15"}}),e._v(" "),a("el-option",{attrs:{label:"六年级",value:"16"}})]:e._e(),e._v(" "),e.userStage.includes("2")?[a("el-option",{attrs:{label:"初一",value:"21"}}),e._v(" "),a("el-option",{attrs:{label:"初二",value:"22"}}),e._v(" "),a("el-option",{attrs:{label:"初三",value:"23"}})]:e._e(),e._v(" "),e.userStage.includes("3")?[a("el-option",{attrs:{label:"高一",value:"31"}}),e._v(" "),a("el-option",{attrs:{label:"高二",value:"32"}}),e._v(" "),a("el-option",{attrs:{label:"高三",value:"33"}})]:e._e()],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"教材版本"}},[a("el-select",{attrs:{placeholder:"请选择教材版本"},on:{change:e.huoqushangxiace},model:{value:e.form.version,callback:function(t){e.form.version=t},expression:"form.version"}},e._l(e.bookVerison,function(e){return a("el-option",{key:e.ctb_code,attrs:{label:e.book_type,value:e.ctb_code}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"上下册"}},[a("el-select",{attrs:{placeholder:"请选择学期"},on:{change:e.getUnit},model:{value:e.form.xueqi,callback:function(t){e.form.xueqi=t},expression:"form.xueqi"}},e._l(e.shagnxiace,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("span",{staticClass:"search",on:{click:function(t){e.searchBtnClick()}}},[e._v("查询")])],1),e._v(" "),e._e()],1),e._v(" "),a("div",{staticStyle:{margin:"10px 20px","text-align":"left"}},e._l(e.unitList,function(t,i){return a("div",{staticClass:"ge-card-1"},[a("div",{staticClass:"ge-header",staticStyle:{"text-align":"left"}},[e._v("\n        序号:"+e._s(i+1)+"\n      ")]),e._v(" "),a("div",{staticClass:"ge-body"},[e._v("\n        "+e._s(t.name)+"\n      ")]),e._v(" "),a("div",{staticClass:"ge-btn",class:t.hasReport||"期中"==t.name?"":"disable",on:{click:function(a){e.searchList(t,i)}}},[e._v("测评报告\n      ")])])}))])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"header"},[a("div",{staticClass:"title"},[e._v("\n      单元检测\n    ")])])}],r={render:i,staticRenderFns:o};t.a=r}});